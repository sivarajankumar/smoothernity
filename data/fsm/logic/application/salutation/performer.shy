system logic_application
    machine salutation_performer
        state initial
            to waiting
                if { ( command start ) stage_salutation_enabled }
            to finished
                if { ( command start ) stage_salutation_disabled }
        state waiting
            on { logic_application_render }
                discard logic_application_render
                do logic_vacuum_render
            on { logic_application_update }
                discard logic_application_update
                do logic_vacuum_update
            to prepare
                if { ( machine salutation_generator is finished ) }
        state prepare
            on entry
                do logic_salutation_animation_zoom_rewind
                do logic_salutation_letters_animation_appear_rewind
                do logic_salutation_letters_animation_disappear_rewind
                do logic_salutation_letters_animation_roll_in_rewind
                do logic_salutation_letters_animation_roll_out_rewind
            to appearing
        state appearing
            on entry
                do logic_salutation_timer_appear_start
            on { logic_application_render }
                discard logic_application_render
                do logic_salutation_renderer_render
            on { logic_application_update }
                discard logic_application_update
                do logic_salutation_animation_zoom_step
                do logic_salutation_letters_animation_appear_step
                do logic_salutation_letters_animation_roll_in_step
                do logic_salutation_timer_appear_tick
            to disappearing
                if { logic_salutation_timer_appear_finished }
        state disappearing
            on entry
                do logic_salutation_timer_disappear_start
            on { logic_application_render }
                discard logic_application_render
                do logic_salutation_renderer_render
            on { logic_application_update }
                discard logic_application_update
                do logic_salutation_animation_zoom_step
                do logic_salutation_letters_animation_disappear_step
                do logic_salutation_letters_animation_roll_out_step
                do logic_salutation_timer_disappear_tick
            to finished
                if { logic_salutation_timer_disappear_finished }
        state finished
